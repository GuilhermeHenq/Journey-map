{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gpere\\\\Desktop\\\\journeymapspike-main\\\\journeymapspike-front\\\\src\\\\components\\\\Matrix.js\";\nimport React from \"react\";\nimport { Stage, Layer, Rect, Circle, Text, Group } from \"react-konva\";\nimport EditableRect from \"./EditableRect\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Matrix = ({\n  matrix,\n  activeRect,\n  onTextSubmit,\n  onTextChange,\n  onAddSquare,\n  onDeleteSquare,\n  onDragMove,\n  onDragEnd\n}) => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [matrix.map((row, rowIndex) => row.map((square, colIndex) => /*#__PURE__*/_jsxDEV(Group, {\n    children: rowIndex !== 2 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(EditableRect, {\n        x: square.x,\n        y: square.y,\n        width: square.width,\n        height: square.height,\n        color: square.color,\n        text: square.text || \"\",\n        onTextChange: newText => handleTextChange(rowIndex, colIndex, newText),\n        isActive: activeRect === square.id,\n        onActivate: () => setActiveRect(square.id)\n      }, `square_${square.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 29\n      }, this), activeRect === square.id && /*#__PURE__*/_jsxDEV(Rect, {\n        x: square.x + square.width,\n        y: square.y,\n        width: 30,\n        height: 30,\n        fill: \"green\",\n        opacity: 1,\n        draggable: false,\n        onClick: () => handleTextSubmit(rowIndex, colIndex),\n        onTap: () => handleTextSubmit(rowIndex, colIndex),\n        listening: true,\n        style: {\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(Rect, {\n        x: square.x + square.width - 20,\n        y: square.y,\n        width: 20,\n        height: 20,\n        fill: \"gray\",\n        opacity: 1,\n        draggable: false,\n        onClick: () => handleDeleteSquare(rowIndex, colIndex),\n        onTap: () => handleDeleteSquare(rowIndex, colIndex),\n        listening: true,\n        style: {\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        x: square.x + square.width - 13,\n        y: square.y + 5,\n        text: \"X\",\n        fontSize: 12,\n        fill: \"#fff\",\n        align: \"center\",\n        verticalAlign: \"middle\",\n        listening: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Circle, {\n        x: square.x + 60,\n        y: square.y,\n        radius: 10,\n        fill: square.color,\n        opacity: 1,\n        draggable: false,\n        listening: true,\n        style: {\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Rect, {\n        x: square.x + 100,\n        y: square.y + 20,\n        width: 20,\n        height: 20,\n        fill: \"gray\",\n        opacity: 1,\n        draggable: false,\n        onClick: () => handleDeleteSquare(rowIndex, colIndex),\n        onTap: () => handleDeleteSquare(rowIndex, colIndex),\n        listening: true,\n        style: {\n          cursor: 'pointer'\n        },\n        cornerRadius: 10\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        x: square.x + 106,\n        y: square.y + 25,\n        text: \"X\",\n        fontSize: 12,\n        fill: \"#fff\",\n        align: \"center\",\n        verticalAlign: \"middle\",\n        listening: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true)\n  }, `square_${square.id}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 17\n  }, this))), matrix.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(Group, {\n    children: [/*#__PURE__*/_jsxDEV(Rect, {\n      x: row.length > 0 ? row[row.length - 1].x + 150 : 30,\n      y: rowIndex * 100 + 80,\n      width: 60,\n      height: 45,\n      fill: \"gray\",\n      opacity: 1,\n      draggable: false,\n      onClick: () => handleAddSquare(rowIndex),\n      onTap: () => handleAddSquare(rowIndex),\n      listening: true,\n      style: {\n        cursor: 'pointer'\n      },\n      cornerRadius: 10\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      x: row.length > 0 ? row[row.length - 1].x + 165 : 45,\n      y: rowIndex * 100 + 82,\n      text: \"+\",\n      fontSize: 50,\n      fill: \"#fff\",\n      align: \"center\",\n      verticalAlign: \"middle\",\n      listening: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this)]\n  }, `addButtonRow_${rowIndex}`, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 13\n  }, this))]\n}, void 0, true);\n_c = Matrix;\nexport default Matrix;\nvar _c;\n$RefreshReg$(_c, \"Matrix\");","map":{"version":3,"names":["React","Stage","Layer","Rect","Circle","Text","Group","EditableRect","jsxDEV","_jsxDEV","Fragment","_Fragment","Matrix","matrix","activeRect","onTextSubmit","onTextChange","onAddSquare","onDeleteSquare","onDragMove","onDragEnd","children","map","row","rowIndex","square","colIndex","x","y","width","height","color","text","newText","handleTextChange","isActive","id","onActivate","setActiveRect","fileName","_jsxFileName","lineNumber","columnNumber","fill","opacity","draggable","onClick","handleTextSubmit","onTap","listening","style","cursor","handleDeleteSquare","fontSize","align","verticalAlign","radius","cornerRadius","length","handleAddSquare","_c","$RefreshReg$"],"sources":["C:/Users/gpere/Desktop/journeymapspike-main/journeymapspike-front/src/components/Matrix.js"],"sourcesContent":["import React from \"react\";\r\nimport { Stage, Layer, Rect, Circle, Text, Group } from \"react-konva\";\r\nimport EditableRect from \"./EditableRect\";\r\n\r\nconst Matrix = ({ matrix, activeRect, onTextSubmit, onTextChange, onAddSquare, onDeleteSquare, onDragMove, onDragEnd }) => (\r\n    <>\r\n        {matrix.map((row, rowIndex) => (\r\n            row.map((square, colIndex) => (\r\n                <Group key={`square_${square.id}`}>\r\n                    {rowIndex !== 2 ? (\r\n                        <>\r\n                            <EditableRect\r\n                                key={`square_${square.id}`}\r\n                                x={square.x}\r\n                                y={square.y}\r\n                                width={square.width}\r\n                                height={square.height}\r\n                                color={square.color}\r\n                                text={square.text || \"\"}\r\n                                onTextChange={(newText) => handleTextChange(rowIndex, colIndex, newText)}\r\n                                isActive={activeRect === square.id}\r\n                                onActivate={() => setActiveRect(square.id)}\r\n                            />\r\n                            {activeRect === square.id && (\r\n                                <Rect\r\n                                    x={square.x + square.width}\r\n                                    y={square.y}\r\n                                    width={30}\r\n                                    height={30}\r\n                                    fill=\"green\"\r\n                                    opacity={1}\r\n                                    draggable={false}\r\n                                    onClick={() => handleTextSubmit(rowIndex, colIndex)}\r\n                                    onTap={() => handleTextSubmit(rowIndex, colIndex)}\r\n                                    listening={true}\r\n                                    style={{ cursor: 'pointer' }}\r\n                                />\r\n                            )}\r\n                            <Rect\r\n                                x={square.x + square.width - 20}\r\n                                y={square.y}\r\n                                width={20}\r\n                                height={20}\r\n                                fill=\"gray\"\r\n                                opacity={1}\r\n                                draggable={false}\r\n                                onClick={() => handleDeleteSquare(rowIndex, colIndex)}\r\n                                onTap={() => handleDeleteSquare(rowIndex, colIndex)}\r\n                                listening={true}\r\n                                style={{ cursor: 'pointer' }}\r\n                            />\r\n                            <Text\r\n                                x={square.x + square.width - 13}\r\n                                y={square.y + 5}\r\n                                text=\"X\"\r\n                                fontSize={12}\r\n                                fill=\"#fff\"\r\n                                align=\"center\"\r\n                                verticalAlign=\"middle\"\r\n                                listening={false}\r\n                            />\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Circle\r\n                                x={square.x + 60}\r\n                                y={square.y}\r\n                                radius={10}\r\n                                fill={square.color}\r\n                                opacity={1}\r\n                                draggable={false}\r\n                                listening={true}\r\n                                style={{ cursor: 'pointer' }}\r\n                            />\r\n                            <Rect\r\n                                x={square.x + 100}\r\n                                y={square.y + 20}\r\n                                width={20}\r\n                                height={20}\r\n                                fill=\"gray\"\r\n                                opacity={1}\r\n                                draggable={false}\r\n                                onClick={() => handleDeleteSquare(rowIndex, colIndex)}\r\n                                onTap={() => handleDeleteSquare(rowIndex, colIndex)}\r\n                                listening={true}\r\n                                style={{ cursor: 'pointer' }}\r\n                                cornerRadius={10}\r\n                            />\r\n                            <Text\r\n                                x={square.x + 106}\r\n                                y={square.y + 25}\r\n                                text=\"X\"\r\n                                fontSize={12}\r\n                                fill=\"#fff\"\r\n                                align=\"center\"\r\n                                verticalAlign=\"middle\"\r\n                                listening={false}\r\n                            />\r\n                        </>\r\n                    )}\r\n                </Group>\r\n            ))\r\n        ))}\r\n        {matrix.map((row, rowIndex) => (\r\n            <Group key={`addButtonRow_${rowIndex}`}>\r\n                <Rect\r\n                    x={row.length > 0 ? row[row.length - 1].x + 150 : 30}\r\n                    y={rowIndex * 100 + 80}\r\n                    width={60}\r\n                    height={45}\r\n                    fill={\"gray\"}\r\n                    opacity={1}\r\n                    draggable={false}\r\n                    onClick={() => handleAddSquare(rowIndex)}\r\n                    onTap={() => handleAddSquare(rowIndex)}\r\n                    listening={true}\r\n                    style={{ cursor: 'pointer' }}\r\n                    cornerRadius={10}\r\n                />\r\n                <Text\r\n                    x={row.length > 0 ? row[row.length - 1].x + 165 : 45}\r\n                    y={rowIndex * 100 + 82}\r\n                    text=\"+\"\r\n                    fontSize={50}\r\n                    fill=\"#fff\"\r\n                    align=\"center\"\r\n                    verticalAlign=\"middle\"\r\n                    listening={false}\r\n                />\r\n            </Group>\r\n        ))}\r\n        {/* ... (other components) */}\r\n    </>\r\n);\r\n\r\nexport default Matrix;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}